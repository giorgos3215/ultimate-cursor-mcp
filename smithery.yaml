# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml
name: ultimate-cursor-mcp
displayName: Ultimate Self-Evolving Cursor MCP
version: 1.0.0
description: A comprehensive, self-evolving MCP for Cursor IDE

author: Ultimate MCP Team
license: MIT
homepage: https://github.com/giorgos3215/ultimate-cursor-mcp

repository:
  type: git
  url: https://github.com/giorgos3215/ultimate-cursor-mcp.git

main: src/cursor-mcp-wrapper.js
capabilities:
  tools: true

installation:
  command: node
  args:
    - src/cursor-mcp-wrapper.js
  env:
    NODE_ENV: production
    MCP_SERVER_SCRIPT: src/enhanced-mcp.js

readme: |
  # Ultimate Self-Evolving Cursor MCP
  
  A comprehensive MCP that continuously evolves and improves through usage. This implementation includes:
  
  - Memory persistence for context management
  - .cursorrules integration for lesson learning
  - Web, code, database, file, and AI tools
  - Self-evolution mechanisms
  - Supabase integration for database operations
  
  ## Installation
  
  ### Easy Setup (Recommended)
  
  Run the setup script:
  
  ```bash
  ./setup.sh
  ```
  
  This script will:
  1. Install the Ultimate Cursor MCP
  2. Optionally set up Supabase integration by prompting for credentials
  
  ### Manual Installation
  
  ```bash
  python3 tools/mcp_installer.py local .
  ```
  
  For Supabase integration:
  
  ```bash
  python3 tools/mcp_installer.py supabase --url "https://yourproject.supabase.co" --key "your-api-key"
  ```
  
  See the full documentation at: https://github.com/giorgos3215/ultimate-cursor-mcp

tools:
  # Basic Tools
  - name: hello_world
    displayName: Hello World
    description: Simple greeting tool for testing
    schema:
      type: object
      properties:
        name:
          type: string
          description: Name to greet
          default: World
      required: []

  - name: save_to_memory
    displayName: Save to Memory
    description: Save information to persistent memory
    schema:
      type: object
      properties:
        key:
          type: string
          description: Key to store the value under
        value:
          type: string
          description: Value to store
        namespace:
          type: string
          description: Optional namespace for the key
          default: default
      required:
        - key
        - value

  - name: get_from_memory
    displayName: Get from Memory
    description: Retrieve information from persistent memory
    schema:
      type: object
      properties:
        key:
          type: string
          description: Key to retrieve
        namespace:
          type: string
          description: Namespace for the key
          default: default
      required:
        - key

  - name: learn_lesson
    displayName: Learn Lesson
    description: Record a lesson learned for future improvement
    schema:
      type: object
      properties:
        lesson:
          type: string
          description: The lesson to be recorded
        category:
          type: string
          description: Category for the lesson
          default: General
      required:
        - lesson

  # Web Tools
  - name: web_search
    displayName: Web Search
    description: Search the web for information
    schema:
      type: object
      properties:
        query:
          type: string
          description: Search query
        max_results:
          type: number
          description: Maximum number of results to return
          default: 5
      required:
        - query

  - name: web_scrape
    displayName: Web Scrape
    description: Extract content from web pages
    schema:
      type: object
      properties:
        url:
          type: string
          description: URL to scrape
        selector:
          type: string
          description: CSS selector to extract (optional)
      required:
        - url

  - name: take_screenshot
    displayName: Take Screenshot
    description: Capture screenshots of web pages
    schema:
      type: object
      properties:
        url:
          type: string
          description: URL to capture
        output_path:
          type: string
          description: Path to save the screenshot
        width:
          type: number
          description: Viewport width
          default: 1280
        height:
          type: number
          description: Viewport height
          default: 800
      required:
        - url
        - output_path

  # Code Tools
  - name: code_search
    displayName: Code Search
    description: Find code patterns in the codebase
    schema:
      type: object
      properties:
        pattern:
          type: string
          description: Pattern to search for
        file_pattern:
          type: string
          description: File pattern to search in
          default: "**/*.{js,ts,py,html,css,json}"
        case_sensitive:
          type: boolean
          description: Whether the search is case sensitive
          default: false
      required:
        - pattern

  - name: lint_code
    displayName: Lint Code
    description: Check code for errors and style issues
    schema:
      type: object
      properties:
        file_path:
          type: string
          description: Path to the file to lint
        fix:
          type: boolean
          description: Whether to automatically fix issues
          default: false
      required:
        - file_path

  - name: analyze_dependencies
    displayName: Analyze Dependencies
    description: Analyze project dependencies
    schema:
      type: object
      properties:
        project_dir:
          type: string
          description: Path to project directory
        check_vulnerabilities:
          type: boolean
          description: Whether to check for vulnerabilities
          default: false
      required:
        - project_dir

  # Database Tools
  - name: db_query
    displayName: Database Query
    description: Execute SQL queries on a database
    schema:
      type: object
      properties:
        db_path:
          type: string
          description: Path to the database file
        query:
          type: string
          description: SQL query to execute
        params:
          type: array
          description: Parameters for the query
          items:
            type: string
        max_rows:
          type: number
          description: Maximum number of rows to return
          default: 100
      required:
        - db_path
        - query

  - name: db_schema
    displayName: Database Schema
    description: Retrieve database schema information
    schema:
      type: object
      properties:
        db_path:
          type: string
          description: Path to the database file
        table_name:
          type: string
          description: Name of the table to get schema for (optional)
      required:
        - db_path

  - name: db_create
    displayName: Create Database
    description: Create a new database from a SQL script
    schema:
      type: object
      properties:
        db_path:
          type: string
          description: Path where the database should be created
        sql_script:
          type: string
          description: SQL script to initialize the database
      required:
        - db_path
        - sql_script

  # File Tools
  - name: watch_files
    displayName: Watch Files
    description: Watch files or directories for changes
    schema:
      type: object
      properties:
        path_pattern:
          type: string
          description: File path or glob pattern to watch
        events:
          type: array
          items:
            type: string
            enum: ['add', 'change', 'unlink']
          description: Events to watch for (add, change, unlink)
        timeout:
          type: number
          description: Timeout in milliseconds to watch
          default: 30000
      required:
        - path_pattern

  - name: find_files
    displayName: Find Files
    description: Find files matching pattern with advanced options
    schema:
      type: object
      properties:
        pattern:
          type: string
          description: Glob pattern to match files
        ignore_pattern:
          type: string
          description: Glob pattern to ignore
        max_depth:
          type: number
          description: Maximum directory depth to search
        max_results:
          type: number
          description: Maximum number of results to return
      required:
        - pattern

  - name: batch_process
    displayName: Batch Process
    description: Process multiple files with a text transformation
    schema:
      type: object
      properties:
        pattern:
          type: string
          description: Glob pattern to match files
        search_text:
          type: string
          description: Text to search for
        replace_text:
          type: string
          description: Text to replace with
        regex:
          type: boolean
          description: Whether to use regex for search/replace
          default: false
        dry_run:
          type: boolean
          description: If true, show changes without modifying files
          default: false
      required:
        - pattern
        - search_text
        - replace_text

  # AI Tools
  - name: query_llm
    displayName: Query LLM
    description: Query a large language model
    schema:
      type: object
      properties:
        prompt:
          type: string
          description: Text prompt for the model
        provider:
          type: string
          description: LLM provider to use
          enum: [openai, anthropic, local]
          default: local
        model:
          type: string
          description: Model to use
          default: auto
        max_tokens:
          type: number
          description: Maximum tokens in response
          default: 1000
      required:
        - prompt

  - name: image_analysis
    displayName: Image Analysis
    description: Analyze an image using computer vision
    schema:
      type: object
      properties:
        image_path:
          type: string
          description: Path to the image file
        task:
          type: string
          description: Analysis task to perform
          enum: [describe, detect_objects, ocr, custom]
          default: describe
        question:
          type: string
          description: Custom question about the image (for custom task)
      required:
        - image_path

  - name: text_to_speech
    displayName: Text to Speech
    description: Convert text to speech audio
    schema:
      type: object
      properties:
        text:
          type: string
          description: Text to convert to speech
        output_path:
          type: string
          description: Path to save the audio file
        voice:
          type: string
          description: Voice to use
          default: default
        rate:
          type: number
          description: Speech rate
          default: 1.0
      required:
        - text
        - output_path

# Configure the environment variables
env:
  # Optional API keys for enhanced functionality
  OPENAI_API_KEY:
    description: OpenAI API key for LLM features
    required: false
  ANTHROPIC_API_KEY:
    description: Anthropic API key for Claude LLM features
    required: false
  GEMINI_API_KEY:
    description: Google Gemini API key
    required: false
  DEEPSEEK_API_KEY:
    description: DeepSeek API key
    required: false
  
  # Tool-specific configurations
  SEARCH_RESULTS_COUNT:
    description: Number of results to return from search
    required: false
    default: "5"
  DEFAULT_SCREENSHOT_WIDTH:
    description: Default width for screenshots
    required: false
    default: "1280"
  DEFAULT_SCREENSHOT_HEIGHT:
    description: Default height for screenshots
    required: false
    default: "800"

# Requirements
requirements:
  - node: ">=16.0.0"
  - npm: ">=7.0.0"
  
# Documentation links
documentation:
  - label: GitHub Repository
    url: https://github.com/giorgos3215/ultimate-cursor-mcp
  - label: Usage Guide
    url: https://github.com/giorgos3215/ultimate-cursor-mcp/blob/main/README.md

startCommand:
  type: stdio

configSchema:
  type: object
  properties:
    NODE_ENV:
      type: string
      description: Environment variable
      default: production

commandFunction: "function(config) { var env = {}; if (config.NODE_ENV) env.NODE_ENV = config.NODE_ENV; return { command: 'node', args: ['src/cursor-mcp-wrapper.js'], env: env }; }"

tags:
  - cursor
  - ai
  - development
  - supabase
  - web tools
  - code analysis
  - file operations

links:
  - label: GitHub Repository
    url: https://github.com/giorgos3215/ultimate-cursor-mcp
  - label: Issue Tracker
    url: https://github.com/giorgos3215/ultimate-cursor-mcp/issues
  - label: Documentation
    url: https://github.com/giorgos3215/ultimate-cursor-mcp/blob/main/README.md
  - label: Supabase Integration Guide
    url: https://github.com/giorgos3215/ultimate-cursor-mcp/blob/main/docs/supabase.md 